!function(e,t){function a(e){var t=e.target;if(t.nodeType)for(;t!==this;t=t.parentNode||this)if(1===t.nodeType&&t.disabled!==!0)for(var a=this.querySelectorAll(o),n=0,r=a.length;r>n;n++)if(a[n]===t){a[n].classList.add(i);break}}function n(e){var t=e.target;if(t.nodeType)for(;t!==this;t=t.parentNode||this)1===t.nodeType&&t.disabled!==!0&&t.classList.remove(i)}var i="activated",o=".clickable";t.addEventListener("touchstart",a,!1),t.addEventListener("touchmove",n,!1),t.addEventListener("touchend",n,!1)}(window,document),!function(e,t){function a(e){e.preventDefault()}var n=e.framework;n.alert={_elem:null,callback:null,getElem:function(){var e=this;if(e._elem)return e._elem;var a=t.createElement("div");a.className="framework-alert framework-backdrop";var n=t.createElement("div");n.className="framework-dialog";var i=t.createElement("div");i.className="framework-dialog-body";var o=t.createElement("p");o.className="framework-dialog-content";var r=t.createElement("div");r.className="framework-dialog-footer";var s=t.createElement("button");return s.className="framework-dialog-button clickable",s.innerText="确定",i.appendChild(o),n.appendChild(i),r.appendChild(s),n.appendChild(r),a.appendChild(n),t.body.appendChild(a),e._elem=a,a},show:function(n,i){if(n){var o=this,r=o.getElem();r.style.display="",r.style.opacity=0;var s=r.querySelector(".framework-dialog-content");s.innerHTML=n;var l=r.querySelector(".framework-dialog-button");l.addEventListener("click",o.hide.bind(o),!1),o.callback=i,e.requestAnimationFrame(function(){r.style.opacity=1}),t.addEventListener("touchmove",a,!1)}},hide:function(n){function i(){var e=o.getElem();e.style.display="none",e.style.opacity=0;var n=e.querySelector(".framework-dialog-button");n.removeEventListener("click",o.hide),"function"==typeof o.callback&&(o.callback(),o.callback=null),t.removeEventListener("touchmove",a,!1)}var o=this;n>0?setTimeout(i,+n):e.requestAnimationFrame(i)}}}(window,document),!function(e){e.framework||(e.framework={})}(window),!function(e,t){function a(){n&&(clearTimeout(n),n=null)}if(t&&t.fn){var n,i=e.framework,o={SERVER_URL:""},r=i.ImgLoader=function(e,a){var n=this;return n.$=t(e),n.options=t.extend(!0,{},o,a),n.init(),n};r.prototype={init:function(){var e=this;e.lastestSrc=null,e.$.addClass("img-container"),"undefined"!=typeof e.$.attr("avatar")&&(e.$.addClass("img-avatar"),e.avatar=!0),"undefined"!=typeof e.$.attr("adaptive")&&(e.$.addClass("img-adaptive"),e.adaptive=!0),e.$.attr("img-src")&&(e.src=t.trim(e.$.attr("img-src")),e.load())},isSrcChanged:function(){return this.lastestSrc!==this.src},load:function(){function e(){l=null,d=null}function i(){r.isSrcChanged()&&(r.$.removeClass("img-loading"),r.$.addClass("img-error"),l.remove()),e()}function o(){r.isSrcChanged()&&(r.$.removeClass("img-loading"),r.$.addClass("img-loaded"),r.adaptive?(r.$.append(d),l.remove()):l.css({"background-image":"url("+s+")",opacity:1}),r.lastestSrc=r.src),e()}var r=this,s=r.src;if(a(),!s)return void(n=setTimeout(function(){r.$.removeClass("img-loading img-loaded").addClass("img-error")},5e3));"string"==typeof s&&"/"===s[0]&&(s=r.options.SERVER_URL+s),r.$.html("").removeClass("img-loaded img-error").addClass("img-loading");var l=t("<div />").addClass("img").css("opacity",0).appendTo(r.$),d=document.createElement("img");d.src=s,d.onload=o,d.onerror=i}},t.fn.imgLoader=function(e){var t;return this.each(function(){var a=new r(this,e);t||(t=a)}),t},t.fn.imgLoader.defaults=o}}(window,window.$),!function(e,t){function a(){var a=this;a.pagination&&t(e).on("scroll",function(){a.hasMoreData&&!a.isSafePosition()&&a.loadMore()})}function n(){var t=this,a=t.$.outerHeight()+t.$.offset().top-e.innerHeight,n=t.$scoller.scrollTop(),i=a-n,o=-1!==t.distance.indexOf("%");o?a*parseFloat(t.distance)/100:parseFloat(t.distance);return o?i/a>parseFloat(t.distance)/100:i>parseFloat(t.distance)}function i(e){var a=this;t.isArray(a.data)&&(a.data.push(e),a.pagination&&a.pagination.total++)}function o(){function e(e){n.promiseSuccess(e),a()}function t(e){n.error=e,a()}function a(){n.phase=n.isNoData()?m.NO_DATA:m.LOADED,n.loading=!1}var n=this;n.phase||(n.phase=m.LOADING),n.error=null,n.loading=!0;var i;n.pagination&&(i={offset:n.pagination.offset,limit:n.pagination.limit,page:n.pagination.page},n.pagination.offset>0&&n.lastupdatetime&&(i.lastupdatetime=n.lastupdatetime));var o=n.getPromise(i);return o.then(e,t),o}function r(){var e=this;return e.loading||!e.pagination?t.Deferred().resolve():(e.pagination.offset+=e.pagination.limit,e.pagination.page++,e.loadFromServer())}function s(){var e=this;return t.isArray(e.data)?!e.data.length:!e.data}function l(e){var a=this;return a.pagination?e&&t.isArray(e.list):!0}function d(e){var a=this;a.isValidResult(e)&&(a.pagination?(a.pagination.total=e.total,0===a.pagination.offset?(a.lastupdatetime=e.lastupdatetime,a.opposite?a.data=e.list.reverse():a.data=e.list):a.opposite?a.data=e.list.reverse().concat(a.data):a.data=a.data.concat(e.list),a.hasMoreData=e.list.length>0&&a.pagination.total>a.data.length):a.data=e,t.isFunction(a.onPromiseSuccess)&&a.onPromiseSuccess(e))}function c(e){var a=this;t.isArray(a.data)&&a.data.indexOf(e)>-1&&(a.data.splice(a.data.indexOf(e),1),a.pagination&&a.pagination.total--,a.isNoData()&&(a.phase=m.NO_DATA))}function f(){var e=this;return e.loading?t.Deferred().resolve():(e.pagination&&(e.pagination.offset=0,e.pagination.page=1),e.loadFromServer())}if(t&&t.fn){var u=e.framework,m={LOADING:"loading",NO_DATA:"nodata",LOADED:"loaded"},p={data:null,phase:null,loading:!1,error:null,pagination:{offset:0,limit:10,total:0,page:1},opposite:!1,lastupdatetime:"",scrollSelector:"body",distance:"2.5%",getPromise:null,onPromiseSuccess:null},v=u.List=function(e,a){var n=this;t.extend(n,p,a),n.$=t(e),n.$scoller=n.scrollSelector?t(n.scrollSelector):n.$.parent(),n.init()};v.prototype={init:a,loadFromServer:o,loadMore:r,refresh:f,isNoData:s,isValidResult:l,isSafePosition:n,promiseSuccess:d,add:i,remove:c},t.fn.list=function(e){var t;return this.each(function(){var a=new v(this,e);t||(t=a)}),t},t.fn.list.defaults=p}}(window,window.$),!function(e,t){t&&t.fn&&("transform"in t.fn||(t.fn.transform=function(e){for(var t=0,a=this.length;a>t;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}),"transition"in t.fn||(t.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0,a=this.length;a>t;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this}),"transitionEnd"in t.fn||(t.fn.transitionEnd=function(e){function t(r){if(r.target===this)for(e.call(this,r),a=0,n=o.length;n>a;a++)i.off(o[a],t)}var a,n,i=this,o=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];if("function"==typeof e)for(a=0,n=o.length;n>a;a++)i.on(o[a],t);return this}))}(window,window.$),!function(e,t){function a(e){e.preventDefault()}var n=e.framework;n.loading={_elem:null,getElem:function(){var e=this;if(e._elem)return e._elem;var a=t.createElement("div");a.className="framework-loading framework-backdrop";var n=t.createElement("div");return n.className="framework-spinning",a.appendChild(n),t.body.appendChild(a),e._elem=a,a},show:function(){var n=this,i=n.getElem();i.style.display="",i.style.opacity=0,e.requestAnimationFrame(function(){i.style.opacity=1}),t.addEventListener("touchmove",a,!1)},hide:function(n){function i(){var e=o.getElem();e.style.display="none",e.style.opacity=0,t.removeEventListener("touchmove",a,!1)}var o=this;n>0?setTimeout(i,+n):e.requestAnimationFrame(i)}}}(window,document),!function(e,t){function a(e){"undefined"==typeof r[i(e)]&&t.querySelector("html").classList.add("no-"+e)}function n(){r=t.createElement("div").style,s.forEach(a),r=null,t.removeEventListener("DOMContentLoaded",n)}function i(e){return e.split("-").map(function(e,t){return t?e.slice(0,1).toUpperCase()+e.slice(1):e}).join("")}var o=e.framework;e.requestAnimationFrame||(e.requestAnimationFrame=function(t){e.setTimeout(t,0)});var r,s=["flex-wrap"];o.checkStyle=a,t.addEventListener("DOMContentLoaded",n,!1)}(window,document),!function(e,t){function a(){var i=t.body,o=n(),r=!!o.inapp;if(r?e.sessionStorage.setItem("IN_APP",r):r=!!e.sessionStorage.getItem("IN_APP"),r){i.classList.add("platform-inapp");var s=o._width,l=o._height;if(s>0&&l>0?(e.sessionStorage.setItem("APP_INNER_WIDTH",s),e.sessionStorage.setItem("APP_INNER_HEIGHT",l)):(s=e.sessionStorage.getItem("APP_INNER_WIDTH"),l=e.sessionStorage.getItem("APP_INNER_HEIGHT")),s>0||l>0){var d=t.createElement("div");for(s>0&&(d.style.width=s+"px",d.style.overflowX="hidden"),l>0&&(d.style.height=l+"px",d.style.overflowY="scroll");i.firstChild;)d.appendChild(i.firstChild);i.appendChild(d)}}else i.classList.add("platform-browser");t.removeEventListener("DOMContentLoaded",a)}function n(){var t,a={},n=e.location.search.replace(/^\?/,"").split("&");return n.forEach(function(e,n){if(e){t=e.split("=");try{a[t[0]]=decodeURIComponent(t[1])}catch(i){a[t[0]]=t[1]}}}),a}t.addEventListener("DOMContentLoaded",a,!1)}(window,document),!function(e,t){var a=e.framework;a.tip={_elem:null,getElem:function(){var e=this;if(e._elem)return e._elem;var a=t.createElement("div");a.className="framework-tip framework-backdrop";var n=t.createElement("p");return n.className="framework-toast",a.appendChild(n),t.body.appendChild(a),e._elem=a,a},show:function(e,t,a){if(e){"function"==typeof t&&(a=t,t=null);var n=this,i=n.getElem();i.style.opacity=0,i.style.display="";var o=i.querySelector("p");o.innerHTML=e,n.callback=a,requestAnimationFrame(function(){i.style.opacity=1,n.hide(t||1500)}),i.addEventListener("touchstart",n.hide.bind(n),!1)}},hide:function(e){function t(){var e=a.getElem();e.style.display="none",e.style.opacity=0,"function"==typeof a.callback&&(a.callback(),a.callback=null),e.removeEventListener("touchmove",a.hide,!1)}var a=this;e>0?setTimeout(t,+e):requestAnimationFrame(t)}}}(window,document);